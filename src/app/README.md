# 서버사이드 렌더링 시 유저 확인 작업

1. 유저아이디를 누군가 탈취한 상황에서 유저의 데이터를 전달해주면 정보 유출
2. 유저 아이디와 현재 로그인 한 사람의 아이디가 일치하는지를 확인하는 과정

파이어베이스는 클라이언트에 어떠한 특정한 정보를 저장하여서 새로고침 해도 자동으로 유저 정보를 가지고 옴

id_token => 유저의 정보를 담아두는 인증키

클라이언트에서 저장된 데이터를 어떻게 서버로 전달할지

1. authProvider => user의 정보를 전달하는 과정
   - fbUser.getIdToken() => Promise<string>
   - 서버로 넘겨서 cookie / 서버에서 사용할 수 잇는 저장소에 저장
   - 서버에서 저장
2. 유저인지를 인증할 때 꺼내와서 비교 후 인증되면 유저 내용 전달
   - 유저를 매번 확인할 수 없기 때문에 유저 페이지의 길목에 특정 함수 배치하기
   - 유저가 특정 페이지를 방문할 때 무조건 실행시키는 함수
     **middleware**
